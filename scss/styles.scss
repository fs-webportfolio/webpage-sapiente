// Seit Sass 1.33 (und ab Dart Sass 3.0 Pflicht) soll man die neue Modul-Syntax verwenden (Teil des sass:map-Pakets), da map-get($map, $key) = alte globale Funktion â†’ deprecated

@use "sass:map";
@use "sass:color";
@use "sass:math";

@import "_fonts";
@import "_fontawesome_all";


// universeller Box-Sizing-Reset (Das :root-Element ist das <html>-Element. StandardmÃ¤ÃŸig hat nicht das <html>, sondern der <body> ein Margin von 8px in fast allen Browsern.)
html {
  scroll-behavior: smooth;
  font-size: 100%;
}

*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

:root {
  font-family: 'Figtree', Verdana, Arial, Helvetica, sans-serif;
  font-weight: 400;
  font-size: 1.1rem;
  font-style: normal;
  line-height: 1.5rem;
}

:where(nav ul li){
  list-style-type: none;
  padding: unset;
  & a {
    text-decoration: none;
  }
}

// ANCHOR Variables
$family: "system-ui, 'Figtree', Verdana, Helvetica, sans-serif";
$weight-normal: 400;
$weight-bold: 700;

$font-serife: Georgia, Times, serif;

.serife {
  font-family: $font-serife;
  font-size: 1rem;
  font-weight: $weight-normal;
  font-style: italic;
}

$container-max: 1400px;

$padding-xy: 6vw;
$padding-top: 5rem;
$margin-y: 5rem;

$spacing-sm: 2rem;
$spacing-md: 3rem;



// ANCHOR maps

// ðŸ”¤ Font-Map
$fonts: (
  family: "system-ui, 'Figtree', Verdana, Helvetica, sans-serif",
  size: 1.1rem,
  weight-normal: 400,
  weight-bold: 700,
  line-height: 1.5,
);


// ðŸŽ¨ Farb-Maps fÃ¼r beide Themes
$colors: (
  body: white,
  text: #1c1d1e,
  light: #f8f8f8,
  dark: #212224,
  primary: #e0d105,
  secondary: #03bd38,
  accent1: #ee9d06,
  accent3: #9f0af0,
  accent2: #00a3cc,
  transp: rgba(0,0,0,0.0),
  transp50: rgba(0,0,0,0.5),
  gray-100: #f0f0f4,
  gray-200: #cdcdd3,
  gray-300: #a7a7ad,
  gray-400: #87878c,
  gray-500: #6a6a6e,
  gray-600: #515155,
  gray-700: #3c3c3f,
  gray-800: #2c2c2d,
  gray-900: #212122,
);

// ANCHOR functions

// ðŸ§© Funktion: Font-Property aus Map holen
@function font($key) {
  @return map.get($fonts, $key);
}

// ðŸ§© Funktion: Farbe aus Map holen
@function color($key) {
  @return map.get($colors, $key);
}

// ANCHOR utility-classes
// Automatisch Utility-Klassen generieren fÃ¼r inline-styles
@each $name, $value in $colors {
  .bg-#{$name} { 
    background-color: $value;
  }
  .text-#{$name} {
    color: $value;
  }
}


//  ANCHOR headlines map + each

// Wichtig bei Variable $family:
// Wenn du eine Liste unquoted Ã¼bergibst (Impact, Haettenschweiler, â€¦), interpretiert Sass das als Liste von Argumenten. Wenn du es als einen Wert haben willst, brauchst du Klammern oder Quotes:
//     $family: ("Impact", "Haettenschweiler", "Arial Narrow Bold", sans-serif);


h1, .h1, h2, .h2 {
  font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;
}
h3, .h3, h4, h5, h6{
  font-family: font(family);
}

//  Variante mit headline-map und kompilieren per each-schleife, statt mixin + includes
// === Headline-Definitionen ===
$headlines: (
  h1: (size: 5rem, weight: font(weight-bold), color: primary),
  h2: (size: 3.5rem, weight: font(weight-bold), color: secondary),
  h3: (size: 2.1rem, weight: font(weight-bold), color: primary),
  h4: (size: 1.3rem, weight: font(weight-normal), color: text),
  h5: (size: 1.1rem, weight: font(weight-normal), color: accent1),
  h6: (size: 1rem, weight: font(weight-bold), color: text)
);

// === Generator fÃ¼r Headlines ===
@each $tag, $settings in $headlines {
  #{$tag} {
    font-size: map.get($settings, size);
    font-weight: map.get($settings, weight);
    line-height: 1.3;
    color: color(map.get($settings, color));
    margin-top: 0;
  }
}
// Ergebnis kompiliert (generiertes CSS, stark gekÃ¼rzt):
// h1 {
//   font-family: system-ui, Verdana, Helvetica, sans-serif;
//   font-size: 3rem;
//   font-weight: 700;
//   line-height: 1.5;
//   color: #0044cc;
// }
// h2 {
//   font-size: 2.5rem;
//   font-weight: 700;
//   color: #007bff;
// }

// ANCHOR Theme-Styles mixin
@mixin theme-styles($design-variant: summer) {
    @if $design-variant == summer {
        color: color(text);
        background-color: color(body);
    } @else if $design-variant == winter {
        color: white;
        background-color: black;
    } @else {
        background-color: #79d7df;
    }
}


// ANCHOR flex-container

@mixin section-full {
  width: 100%;
  display: flex;
  align-items: center;
} 

@mixin section-wide {
  width: 100%;
  padding-left: $padding-xy;
  padding-right: $padding-xy;
  margin-top: $margin-y;
} 

@mixin flexbox($width: 100%, $height: auto) {
  display: flex;
  flex-wrap: wrap;
  width: $width;
  height: $height;
}

//ANCHOR figure image

//  Image full width+height
@mixin img-full($width: 100%, $height: 100%){
    width: $width;
    height: $height;
    object-fit: cover;
    object-position: center;
}

@mixin fig-full($width: 100%, $height: auto) {
  width: $width;
  height: $height;
  & img {
    @include img-full();
  }
}

// ANCHOR Button-Styles
@function brightness($c) {
  $r: color.channel($c, "red", $space: rgb);
  $g: color.channel($c, "green", $space: rgb);
  $b: color.channel($c, "blue", $space: rgb);

  @return math.div(($r + $g + $b), 255 * 3) * 100%;
}

@mixin btn($btncolor: primary) {
  $bg: color($btncolor); //FarbWERT herausholen -> func brightness braucht rgb-werte, keinen key!

  @if brightness($bg) > 55% {
    color: color(dark);
  } @else {
    color: color(light);
  }
  font-size: font(size);
  background-color: $bg;
  padding: 0.6rem 1.4rem;
  border: 1px solid $bg;
  text-decoration: none;
  cursor: pointer;
  transition: all .6s ease;
  &:hover {
    background-color: color.adjust($bg, $lightness: -10%);
    border-color: color.adjust($bg, $lightness: -10%);
    transform: scale(1.1);
  }
}

@mixin btn-outline($btncolor: primary) {
  @include btn($btncolor);
  $bg: color($btncolor);
  color: $bg;
  background-color: transparent;
  border-color: $bg;
    &:hover {
      @if brightness($bg) > 55% {
        color: color(dark);
      } @else {
        color: color(light);
      }
      background-color: $bg;
        border-color: $bg;
      transform: scale(1.1);
  }
}

@mixin btn-small ($btncolor: primary) {
  @include btn($btncolor);
  padding: 0.5rem 1rem;
  font-size: 0.875rem;
}

@mixin btn-outline-small ($btncolor: primary) {
  @include btn-outline($btncolor);
  padding: 0.5rem 1rem;
  font-size: 0.875rem;
}

// button {
//   @include themed-button(primary);
// }

@mixin button($bgcolor: secondary, $fc: primary, $border: none) {
  $bg: color($bgcolor); //FarbWERT herausholen -> func brightness braucht rgb-werte, keinen key!

  @if brightness($bg) > 55% {
    color: color(dark);
  } @else {
    color: color(light);
  }
  @if $bgcolor == transp {
    color: color($fc);
  }
  font-size: font(size);
  background-color: $bg;
  padding: .6rem 1.4rem;
  border: $border;
  border-radius: 10px;
  cursor: pointer;
  transition: background-color 0.3s ease;

  &:hover {
    background-color: color.adjust($bg, $lightness: -10%);
  }
}


@mixin btn-transp($fc: primary, $bordercol: secondary) {
    $fontcolor: color($fc); //FarbWERT herausholen -> func brightness braucht rgb-werte, keinen key!
  font-size: font(size);
  padding: 0.6rem 1.4rem;
  color: color($fc);
  background-color: transparent;
  border: 1px solid color($bordercol);
  border-radius: 10px;
    &:hover {
    color: color.adjust($fontcolor, $lightness: -10%);
      background-color: color(transp50);
  }
}



// ANCHOR Global Content
body {
  // @include fonts-body();
  @include theme-styles(summer);
}

header, nav, main, section, article, aside, footer {
  display: block;
}

a {
  color: color(gray-600);
  text-decoration: none;
  &:hover {
    color: color(accent2);
  }
}

// ANCHOR nav

nav {
  position: sticky;
  top: 0;
  z-index: 99;
  @include section-full();
  height: 80px;
  padding-left: $padding-xy;
  padding-right: $padding-xy;
  justify-content: space-between;
  gap: 1rem; 
  background-color: rgba(10, 10, 10, 0.2);
  backdrop-filter: blur(10px); // Milchglas-Effekt
  -webkit-backdrop-filter: blur(10px); // fÃ¼r Safari
  & > figure {
    display: flex;
    width: 100%;
    max-width: 220px;
    min-width: 120px;
    height: auto;
    align-items: center;
    & img {
      display: block;
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center;
    } 
  }   
  & ul {
    display: flex;
    gap: 1rem;
  }
  & a {
        // border: 1px solid sandybrown;
      color: color(secondary);
      gap: 1rem;
      padding: 0.5rem;
       transition: all 0.3s ease-in-out;
    &:visited {
        color: color(accent3);
    }
    &:focus {
        color: color(dark);
        background-color: color(accent1);
        box-shadow: none;
    }
    &:hover {
      color: color.adjust(color(primary), $lightness: -10%);
      outline: 1px solid color(secondary);
      outline-offset: 2px;
      box-shadow: 0 0 30px rgba(238, 157, 6, 0.781)
    }
    &:active {
        color: color(light);
        background-color: color(accent3);
    }
  } 
}
.burger-btn {
    display: none;
    background-color: transparent;
    color: #f1f1f1;
    border: 1px solid color(primary);
    width: auto;
    height: auto;
    padding: 10px;
    align-items: center;
    justify-content: center; 
      > i {
      font-size: 1.4rem;
      color: color(secondary);
      display: inline-block;
      }  
    /* .fa-bars {
      font-size: 1.6rem;
      color: hotpink;
      display: inline-block;
    } */
    .close-btn {
        display: none;
      }
      &.active .close-btn {
      display: inline-block;
    }
    &.active .fa-bars {
      display: none;
    }
}
.burger-btn i:hover{
  color: color(primary);
  animation: burger-anim 0.5s forwards;
}
@keyframes burger-anim{
    0%{
      transform:scale(1);
    }
    100%{
      transform:scale(1.3);
    }
}


// ANCHOR header
header {
    // border: 4px solid deeppink;
  height: 100vh;
  // height: calc(100vh - 80px);
	// position: relative;
  // top: 0;
  z-index: 0;
  width: 100%;
  margin: auto;
  margin-top: -80px;
  background-image: linear-gradient(to top, rgba(10, 10, 10, 0.5), #101010), url(../img/header/villa-carpeneto.jpg);
  background-repeat: no-repeat;
  background-size: cover;
  background-position: center;
  background-attachment: fixed;
  background-color: rgba(0,0,0,0.9);
  overflow: hidden;
  & div {
      // border: 2px solid greenyellow;
      position: absolute;
      z-index: 1;
      top: calc(50% + 40px); /* siehe hÃ¶he nav */
      left: 50%;
      transform: translate(-50%, -50%);
    display: flex;
    flex-direction: column;
    gap: 70px;
    width: 80vw;
    align-items: center;
    text-align: center;
      & p:first-of-type {
        font-size: calc(1rem + 1vw);
      }
      & p:nth-of-type(2) {
        font-size: 1rem;
      }
      & h1 {
        width: 100%;
        text-align: center;
        font-size: calc(3rem + 5vw);
        animation: fade 2s ease forwards;
        z-index: 1;
        pointer-events: none; // Klicks gehen durch
      }
      & .btn-header {
        @include btn-outline();
        margin-top: 50px;
        animation: fade 2s ease forwards;
      }  
      @keyframes fade {
        from {opacity: 0%;}
        to {opacity: 100%; }
      }
  }  
}

main {
  margin: 0 auto;
}

// ANCHOR section1
.section1 {
  @include section-wide();
  @include flexbox();
  gap: 2rem;
  background-color: white;
  align-items: stretch;
  container-name: section-1;
  container-type: inline-size;
  /* oder shortform = container: der-name / der-typ; */
}

.div-left {
  display: flex;
  flex-direction: column;
  flex-basis: 30%;
  justify-content: flex-end;
  background-color: rgba(19, 19, 19, 0.716);
  background-image: linear-gradient(to top, rgba(210, 210, 210, 0.2), rgba(10, 10, 10, 0.6)), url(../img/content/_DSC4117-verlassenes-hotel-paragon-italien.jpg);
  background-size: cover;
  background-position: 50% top;
  background-repeat: no-repeat;
  & .img-overlay{
    display: flex;
    flex-wrap: wrap;
    height: auto;
    gap: 1rem;
    padding: 2rem;
    align-items: center;
    background-color: rgba(240, 240, 240, 0.6);
  }
}

.div-right { 
  display: flex;
  flex-wrap: wrap;
  flex: 1;
  // flex-basis: 65%;
  // flex-grow: 1;
  // flex-shrink: 1;
  gap: 2rem;
    & .h2 {
    margin-top: -1rem;        
  }
  & .div-right-1{
      display: flex;
      padding: 3rem 1.5rem; 
      gap: 1rem;
      align-items: center;      
      & h4 {
        flex-basis: 40%;
        // border: 1px solid greenyellow; 
        margin-bottom: 0;        
      }
      & p {
        flex-basis: 60%;        
      }
    }
  & .div-right-2{
      display: flex;
      // padding: .5rem;
      gap: 2rem;
    }      
  & .div-50 {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    gap: 2rem;
    // border: 1px solid greenyellow;   
    flex-basis: 50%;
    & figure {
      @include fig-full();
      height: 100%;
      // min-width: 200px;
      }  
    ul {
      list-style: none;
      padding: 0;
    }
    li {
      padding: .5rem;
      border-bottom: 1px dashed white;
    }
    li::before {
    // content: "\2665"; /* Unicode fÃ¼r das gefÃ¼llte Herz-Symbol */
    content: "\2661"; /* Unicode fÃ¼r das Herz-Symbol */
    font-size: 1.5rem;
    color: red;
    margin-right: 8px; /* Abstand zwischen dem Symbol und dem Text */
      }    
    }
  }   


// ANCHOR section2
.section2 {
  @include section-full();
  margin-top: $margin-y;
  flex-wrap: wrap;
  color: color(text);
  background-color: black; 
    & .post {
      display: flex;
      flex-basis: 33%; 
      flex-grow: 1;
      flex-shrink: 1;
      height: 500px;
      padding: 2rem;
      align-items: flex-start; /* wichtig, damit button nicht geanze breiteeinnimmt */
      flex-direction: column;
      justify-content: flex-end;
      color: color(gray-600);
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
    }
    & .post-news {
    justify-content: space-around;
    background-image: linear-gradient(to top, rgba(245, 245, 245, 0.9),rgba(16, 16, 16, 0.7),rgba(16, 16, 16, 0.9),rgba(16, 16, 16));
    & button {
      @include btn(accent2);
      // max-width: 120px;
    }  
    } 
    & .post-2 {
      padding-bottom: 2rem;
      background-image: linear-gradient(to top, rgba(245, 245, 245, 1),rgba(16, 16, 16, 0.4), rgba(16, 16, 16, 0.5), rgba(16, 16, 16, 0.9)), url(../img/content/_DSC4148-lost-place-villa-minetta.jpg);
      & button {
        @include btn-small(accent2);
        // width: 100%;
        // max-width: 80px;
        margin: 1rem 0;
      }
    }
    & .post-3 {
      padding-bottom: 2rem;
      & button {
        @include btn-small(accent2);
        // max-width: 70px;
        // font-size: 5px;
        // padding: 0.5rem 0.6rem;
        margin: 1rem 0;
      }
      background-image: linear-gradient(to top, rgba(250, 250, 250, 1),rgba(16, 16, 16, 0.4), rgba(16, 16, 16, 0.5), rgba(16, 16, 16, 0.9)), url(../img/content/_DSC4117-verlassenes-hotel-paragon-italien.jpg);
    }

}


//  ANCHOR Footer
footer {
  display: flex; 
  gap: 100px;
  font-size: 0.9rem;
  padding: $spacing-sm $padding-xy;
  margin-top: $margin-y;
  & > div:first-child{
        // border: 2px solid goldenrod;
    display: flex; 
    flex: 50%; 
    flex-direction: column; 
    gap: 10px; 
  }
  & > div:last-child{
        // border: 2px solid goldenrod;
    display: flex; 
    flex: 50%; 
    flex-direction: column; 
    gap: 20px; 
  }
  & a {
    font-size: 0.9rem;
  }
  // rundes fontawesome nur mit class-zuweisung machbar
  i.icon-circle {
    display: inline-flex; /* Flexbox Variante */
    align-items: center;
    justify-content: center;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    /* padding: 10px;  <- Bei Nutzung von flexbox ist kein padding nÃ¶tig */
    background-color: color(gray-100);
    margin-top: -5px;
  }
}



// ANCHOR responsive queries

@media screen and (max-width: 1200px) {
.section1 {
  display: block;
    & .div-left { 
      min-height: 400px;
      flex-direction: column;
      background-position: center;
      margin-bottom: 4rem;
    }
    & .div-right-2 {
      flex-direction: column;
      gap: 2rem;
      
    }
  }
}

@container section-1 (width < 800px) {
  .div-left { 
    .img-overlay {
    gap: .5rem;
    padding: 1rem 1.5rem;
      h4 {
        font-size: 1.1rem;
      }
      font-size: 0.875rem
    }
  }
}

@media screen and (max-width:780px) {
  nav > figure {
    max-width: 150px;
  }
    nav > ul {
          display: none;
      }
    .burger-btn {
          display: block;
          margin-left: auto;
          margin-right: 10px;
        }  

    #dropdown-menu.expand{
      display: flex;
      flex-direction: column;
      position: absolute;
      z-index: 10;
      width: 90vw;
      height: 80vh;
      top: 80px;
      right: 50%;
      transform: translateX(50%);
      padding: 20px;
      background-color: rgb(48, 48, 48);
      text-align: center;
      line-height: 5rem;
      justify-content: center;
      gap: 10px;
      & a {
        width: 100%;
        display: block;
        color: black;
        border: 1px solid sandybrown;
        background-color: darkgrey;
        font-size: clamp(1.2rem, 2.5vw, 1.8rem);
        &:hover {
          background-color: powderblue;
        }
        }        
    }
  }   


@media screen and (max-width: 600px) {
  .section1 {
    display: block;
    .div-left { 
        min-height: 400px;
        flex-direction: column;
        background-position: center;
    } 
  }
  .section2 {
    & .post {
      flex-basis: 100%;
    }
  }
}
